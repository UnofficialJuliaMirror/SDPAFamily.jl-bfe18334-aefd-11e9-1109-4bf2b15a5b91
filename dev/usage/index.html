<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage · SDPAFamily.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>SDPAFamily.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../installation/">Installation</a></li><li class="current"><a class="toctext" href>Usage</a><ul class="internal"></ul></li><li><a class="toctext" href="../examples/">Examples</a></li><li><a class="toctext" href="../issues/">Possible Issues &amp; Troubleshooting</a></li><li><a class="toctext" href="../reference/">Developer reference</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Usage</a></li></ul><a class="edit-page" href="https://github.com/ericphanson/SDPAFamily.jl/blob/master/docs/src/usage.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Usage</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Usage-1" href="#Usage-1">Usage</a></h1><p>The main object of interest supplied by this package is <code>SDPAFamily.Optimizer{T}()</code>. Here, <code>T</code> is a numeric type which defaults to <code>BigFloat</code>. Keyword arguments may also be passed to <code>SDPAFamily.Optimizer()</code>:</p><ul><li><code>variant</code>: either <code>:sdpa_gmp</code>, <code>:sdpa_qd</code>, or <code>:sdpa_dd</code>, to use SDPA-GMP, SDPA-QD, or SDPA-DD, respectively. Defaults to <code>:sdpa_gmp</code>.</li><li><code>silent</code>: a boolean to indicate whether or not to print output. Defaults to <code>false</code>.</li><li><code>verbose</code>: accepts either <code>SDPAFamily.SILENT</code> (which is equivalent to <code>silent=true</code>), <code>SDPAFamily.WARN</code> (which is the default), or <code>SDPAFamily.VERBOSE</code>, which prints all output from the binary as well as additional warnings.</li><li><code>presolve</code>: whether or not to run a presolve routine to remove linearly dependent constraints. See below for more details. Defaults to <code>false</code>. Note, <code>presolve=true</code> is required to pass many of the tests for this package; linearly independent constraints are an assumption of the SDPA-family, but constraints generated from high level modelling languages often do have linear dependence between them.</li><li><code>binary_path</code>: a string representing a path to the SDPA-GMP binary to use. The default is chosen at <code>build</code> time. To change the default binaries, see <a href="../installation/#Custom-binary-1">Custom binary</a>.</li><li><code>params</code>: either <code>SDPAFamily.DEFAULT</code> (the default option), <code>SDPAFamily.UNSTABLE_BUT_FAST</code>, <code>SDPAFamily.STABLE_BUT_SLOW</code>, or a string representing a path to a parameter file. The default parameters used by <code>SDPAFamily.jl</code> are listed <a href="https://github.com/ericphanson/SDPAFamily.jl/blob/master/deps/">here</a>. There are two other choices of parameters, <code>UNSTABLE_BUT_FAST</code> and <code>STABLE_BUT_SLOW</code> are documented in the <a href="https://sourceforge.net/projects/sdpa/files/sdpa/sdpa.7.1.1.manual.20080618.pdf">SDPA users manual</a>.</li></ul><p><code>SDPAFamily.Optimizer()</code> also accepts <code>variant = :sdpa</code> to use the non-high-precision SDPA binary. For general usage of the SDPA solver, use <a href="https://github.com/JuliaOpt/SDPA.jl">SDPA.jl</a> which uses the C++ library to interface directly with the SDPA binary.</p><h3><a class="nav-anchor" id="Using-a-number-type-other-than-BigFloat-1" href="#Using-a-number-type-other-than-BigFloat-1">Using a number type other than <code>BigFloat</code></a></h3><p><code>SDPAFamily.Optimizer()</code> uses <code>BigFloat</code> for problem data and solution by default. To use, for example, <code>Float64</code> instead, simply call <code>SDPAFamily.Optimizer{Float64}()</code>. However, this may cause underflow errors when reading the solution file, particularly when <code>MathOptInterface</code> bridges are used. Note that with <code>MathOptInterface</code> all the problem data must be parametrised by the same number type, i.e. <code>Float64</code> in this case.</p><h3><a class="nav-anchor" id="Using-presolve-1" href="#Using-presolve-1">Using presolve</a></h3><p>SDPA-GMP will emit <code>cholesky miss condition :: not positive definite</code> error when the problem data contain linearly dependent constraints. Set <code>presolve=true</code> to use a presolver which tries to detect such constraints by Gaussian elimination. The redundant constraints are omitted from the problem formulation and the corresponding redundant decision variables are set to 0 in the final result. The time taken to perform the presolve step depends on the size of the problem. This process is numerically unstable, so is disabled by default. It does help quite a lot with some problems, however. </p><div></div><p>We demonstrate <code>presolve</code> using the problem defined in <a href="../examples/#Optimal-guessing-probability-for-a-pair-of-quantum-states-1">Optimal guessing probability for a pair of quantum states</a>. When <code>presolve</code> is disabled, SDPA solvers will terminate prematurely due to linear dependence in the input constraints. Note, however, that this does not necessarily happen. Empirically, for our test cases, solvers&#39; intolerance increases from <code>:sdpa</code> to <code>:sdpa_gmp</code>.</p><pre><code class="language-julia-repl">julia&gt; opt = SDPAFamily.Optimizer(presolve = false)
SDPAFamily.Optimizer{BigFloat}

julia&gt; solve!(p, SDPAFamily.Optimizer())
Warning: cholesky miss condition :: not positive definite :: info = 16 :: line 643 in sdpa_linear.cpp
┌ Warning: &#39;cholesky miss condition&#39; warning detected; results may be unreliable. Try `presolve=true`, or see troubleshooting guide.
└ @ SDPAFamily ~/build/ericphanson/SDPAFamily.jl/src/binary_call.jl:49
┌ Warning: Problem status OPTIMIZE_NOT_CALLED; solution may be inaccurate.
└ @ Convex ~/.julia/packages/Convex/r4w0m/src/MOI_solve.jl:199</code></pre><p>Applying presolve helps by removing 8 redundant constraints from the final input file.</p><pre><code class="language-julia-repl">julia&gt; opt.presolve = true; opt.verbosity = SDPAFamily.SILENT;

julia&gt; solve!(p, opt)

julia&gt; @test p.optval ≈ (6 - sqrt(big&quot;2.0&quot;))/4 atol=1e-30
Test Passed

julia&gt; SDPAFamily.presolve(opt)
8-element Array{Int64,1}:
  5
  7
 11
 13
 16
 18
 20
 21</code></pre><footer><hr/><a class="previous" href="../installation/"><span class="direction">Previous</span><span class="title">Installation</span></a><a class="next" href="../examples/"><span class="direction">Next</span><span class="title">Examples</span></a></footer></article></body></html>
